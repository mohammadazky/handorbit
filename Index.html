<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Saturnus - Mohammad Azky Kameel</title>
    <!-- Import Font Mewah (Playfair Display) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            color: white;
            user-select: none; /* Mencegah blok teks tidak sengaja */
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* Container Text */
        #ui-layer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
            text-align: center;
            pointer-events: none; /* Agar mouse tembus ke canvas */
            width: 90%;
        }

        /* Typography Style - Gold Gradient */
        h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: 2px;
            line-height: 1.2;
            
            /* Efek Emas Mewah */
            background: linear-gradient(
                90deg, 
                #BF953F 0%, 
                #FCF6BA 25%, 
                #B38728 50%, 
                #FBF5B7 75%, 
                #AA771C 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
            
            text-shadow: 0px 0px 20px rgba(191, 149, 63, 0.5);
            opacity: 1; 
            min-height: 1.2em; /* Mencegah layout lompat saat mengetik */
        }

        .subtitle {
            font-size: 1.1rem;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 20px;
            font-style: italic;
            letter-spacing: 3px;
            text-transform: uppercase;
            opacity: 0;
            transition: opacity 2s ease;
        }

        /* Cursor blinking */
        .cursor {
            display: inline-block;
            width: 3px;
            height: 0.8em;
            background-color: #FCF6BA;
            margin-left: 5px;
            animation: blink 1s infinite;
            vertical-align: bottom;
        }

        /* Loading Screen Fixed */
        #loader {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transition: opacity 0.8s ease-out;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.1);
            border-left-color: #d4af37;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        @keyframes shine { to { background-position: 200% center; } }

        /* Responsiveness */
        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .subtitle { font-size: 0.8rem; letter-spacing: 1px;}
        }
    </style>
</head>
<body>

    <!-- Loading Screen -->
    <div id="loader"><div class="spinner"></div></div>

    <!-- 3D Canvas -->
    <div id="canvas-container"></div>

    <!-- Text UI -->
    <div id="ui-layer">
        <h1 id="main-text"></h1><span class="cursor" id="cursor"></span>
        <div class="subtitle" id="sub-text">Welcome to My Universe</div>
    </div>

    <!-- Three.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // --- SAFEGUARD LOADER (Anti-Stuck) ---
        // Jika loading macet lebih dari 2.5 detik, paksa masuk
        setTimeout(() => {
            const loader = document.getElementById('loader');
            if(loader && loader.style.display !== 'none') {
                loader.style.opacity = 0;
                setTimeout(() => loader.style.display = 'none', 800);
                if(document.getElementById('main-text').innerHTML === "") {
                    startExperience();
                }
            }
        }, 2500);

        // --- KONFIGURASI ---
        const config = {
            text: "Hi, Mohammad Azky Kameel",
            typingSpeed: 100, 
            starsCount: 3000,
            bgHex: 0x050505
        };

        let scene, camera, renderer, planet, ring, starField, atmosphere;
        let mouseX = 0, mouseY = 0;
        let isTyping = false;

        function init() {
            // --- SETUP SCENE ---
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene();
            scene.fog = new THREE.FogExp2(config.bgHex, 0.00003); 

            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 0, 25); 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2)); // Optimasi performa
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);

            createObjects();
            createLights();
            setupEvents();
            animate();
            
            // Hilangkan loader secara resmi jika init berhasil
            const loader = document.getElementById('loader');
            loader.style.opacity = 0;
            setTimeout(() => {
                loader.style.display = 'none';
                startExperience();
            }, 800);
        }

        // Generator Tekstur Prosedural (Tanpa Gambar Luar)
        function createTextureNoise(width, height, color1, color2) {
            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d');
            
            // Gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, color1);
            gradient.addColorStop(0.5, color2);
            gradient.addColorStop(1, color1);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);

            // Noise pattern
            for (let i = 0; i < 400; i++) {
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.05})`;
                ctx.fillRect(0, Math.random() * height, width, Math.random() * (height/20));
            }
            return new THREE.CanvasTexture(canvas);
        }

        function createObjects() {
            // 1. PLANET SATURNUS
            const planetGeo = new THREE.SphereGeometry(4, 64, 64);
            const planetMat = new THREE.MeshStandardMaterial({
                map: createTextureNoise(1024, 1024, '#cfa574', '#8f6844'),
                roughness: 0.7,
                metalness: 0.1
            });
            planet = new THREE.Mesh(planetGeo, planetMat);
            planet.castShadow = true;
            planet.receiveShadow = true;
            scene.add(planet);

            // 2. CINCIN
            const ringGeo = new THREE.RingGeometry(5.2, 8.5, 128);
            const ringPos = ringGeo.attributes.position;
            const ringUv = ringGeo.attributes.uv;
            
            // UV Mapping Radial agar tekstur melingkar
            for (let i = 0; i < ringPos.count; i++) {
                const x = ringPos.getX(i);
                const y = ringPos.getY(i);
                const r = Math.sqrt(x * x + y * y);
                const v = (r - 5.2) / (8.5 - 5.2);
                ringUv.setXY(i, v, 0); 
            }
            
            const ringMat = new THREE.MeshStandardMaterial({
                map: createTextureNoise(64, 512, '#e0d0c0', '#a09080'),
                side: THREE.DoubleSide,
                transparent: true,
                opacity: 0.9,
                roughness: 0.5
            });
            
            ringMat.map.rotation = Math.PI / 2;
            ringMat.map.center.set(0.5, 0.5);

            ring = new THREE.Mesh(ringGeo, ringMat);
            ring.rotation.x = Math.PI / 1.7; 
            ring.castShadow = true; 
            ring.receiveShadow = true;
            scene.add(ring);

            // 3. ATMOSFER GLOW
            const glowGeo = new THREE.SphereGeometry(4.2, 32, 32);
            const glowMat = new THREE.MeshBasicMaterial({
                color: 0xffaa00,
                side: THREE.BackSide,
                blending: THREE.AdditiveBlending,
                transparent: true,
                opacity: 0.15
            });
            atmosphere = new THREE.Mesh(glowGeo, glowMat);
            scene.add(atmosphere);

            // 4. BINTANG
            const starsGeo = new THREE.BufferGeometry();
            const starsPos = [];
            for (let i = 0; i < config.starsCount; i++) {
                starsPos.push((Math.random() - 0.5) * 600);
                starsPos.push((Math.random() - 0.5) * 600);
                starsPos.push((Math.random() - 0.5) * 600);
            }
            starsGeo.setAttribute('position', new THREE.Float32BufferAttribute(starsPos, 3));
            const starsMat = new THREE.PointsMaterial({ color: 0xffffff, size: 0.4, transparent: true, opacity: 0.8 });
            starField = new THREE.Points(starsGeo, starsMat);
            scene.add(starField);
        }

        function createLights() {
            // Matahari
            const sunLight = new THREE.DirectionalLight(0xffffff, 1.5);
            sunLight.position.set(30, 10, 20);
            sunLight.castShadow = true;
            scene.add(sunLight);

            // Ambient
            const ambientLight = new THREE.AmbientLight(0x404040, 0.8);
            scene.add(ambientLight);

            // Rim Light (Efek Cinematic dari belakang)
            const rimLight = new THREE.SpotLight(0xffd700, 2);
            rimLight.position.set(-20, 0, -10);
            rimLight.lookAt(0,0,0);
            scene.add(rimLight);
        }

        function setupEvents() {
            // Mouse Movement (Desktop)
            document.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX - window.innerWidth / 2) * 0.001;
                mouseY = (e.clientY - window.innerHeight / 2) * 0.001;
            });
            
            // Touch Movement (Mobile)
            document.addEventListener('touchmove', (e) => {
                if(e.touches.length > 0) {
                    mouseX = (e.touches[0].clientX - window.innerWidth / 2) * 0.002;
                    mouseY = (e.touches[0].clientY - window.innerHeight / 2) * 0.002;
                }
            });

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function animate() {
            requestAnimationFrame(animate);

            // Rotasi objek
            planet.rotation.y += 0.002;
            atmosphere.rotation.y += 0.002;
            ring.rotation.z -= 0.0005;
            starField.rotation.y -= 0.0002;

            // Efek Parallax (Mengikuti Mouse)
            const targetX = mouseX * 10;
            const targetY = mouseY * 5;
            camera.position.x += (targetX - camera.position.x) * 0.05;
            camera.position.y += (-targetY - camera.position.y) * 0.05;
            camera.lookAt(scene.position);

            renderer.render(scene, camera);
        }

        function startExperience() {
            if(isTyping) return;
            isTyping = true;
            
            const h1 = document.getElementById('main-text');
            const cursor = document.getElementById('cursor');
            const sub = document.getElementById('sub-text');
            
            let i = 0;
            h1.innerHTML = ""; // Reset
            
            function type() {
                if (i < config.text.length) {
                    h1.innerHTML += config.text.charAt(i);
                    i++;
                    setTimeout(type, config.typingSpeed);
                } else {
                    // Selesai ngetik
                    cursor.style.display = 'none';
                    sub.style.opacity = 1;
                }
            }
            type();
        }

        // Jalankan init
        document.addEventListener('DOMContentLoaded', init);

    </script>
</body>
</html>

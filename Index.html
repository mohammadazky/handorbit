<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>HANDORBIT ‚Äî Saturn</title>

<style>
html,body{
  margin:0;
  padding:0;
  background:black;
  overflow:hidden;
  touch-action:none;
}
canvas{display:block}

/* TEXT */
#title{
  position:absolute;
  top:70%;
  left:50%;
  transform:translate(-50%,-50%);
  font-family:'Segoe Script','Dancing Script',cursive;
  font-size:2.6rem;
  color:#ffe7c2;
  white-space:nowrap;
  pointer-events:none;
  text-shadow:
    0 0 18px rgba(255,180,80,.6),
    0 0 35px rgba(255,80,40,.35);
  transition:transform .1s linear;
}

#cursor{
  display:inline-block;
  margin-left:4px;
  animation:blink 1s infinite;
}

@keyframes blink{
  0%,50%,100%{opacity:1}
  25%,75%{opacity:0}
}

#hint{
  position:absolute;
  bottom:12px;
  width:100%;
  text-align:center;
  font-size:12px;
  color:rgba(255,255,255,.5);
  font-family:sans-serif;
}
</style>
</head>

<body>

<div id="title"><span id="text"></span><span id="cursor">|</span></div>
<div id="hint">Gerakkan HP ‚Ä¢ Tap layar</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

<script>
/* SCENE */
const scene = new THREE.Scene();

/* CAMERA */
const camera = new THREE.PerspectiveCamera(65, innerWidth/innerHeight, 0.1, 2000);
camera.position.z = 8;

/* RENDERER */
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

/* LIGHT */
scene.add(new THREE.AmbientLight(0xffccaa,0.4));
const sun = new THREE.DirectionalLight(0xffffff,2.5);
sun.position.set(10,6,8);
scene.add(sun);

/* STARS */
const starsGeo = new THREE.BufferGeometry();
const starPos=[];
for(let i=0;i<2200;i++){
  starPos.push(
    (Math.random()-0.5)*2000,
    (Math.random()-0.5)*2000,
    (Math.random()-0.5)*2000
  );
}
starsGeo.setAttribute('position',new THREE.Float32BufferAttribute(starPos,3));
const stars=new THREE.Points(
  starsGeo,
  new THREE.PointsMaterial({color:0xffffff,size:1})
);
scene.add(stars);

/* SATURN */
const planet=new THREE.Mesh(
  new THREE.SphereGeometry(2.4,64,64),
  new THREE.MeshStandardMaterial({
    color:0xb84b2a,
    roughness:0.45,
    metalness:0.1
  })
);
scene.add(planet);

/* RING */
const ring=new THREE.Mesh(
  new THREE.RingGeometry(3.1,4.6,128),
  new THREE.MeshStandardMaterial({
    color:0xd8c6a1,
    side:THREE.DoubleSide,
    transparent:true,
    opacity:0.85
  })
);
ring.rotation.x=Math.PI/2.3;
scene.add(ring);

/* DUST */
const dustGeo=new THREE.BufferGeometry();
const dustPos=[];
for(let i=0;i<1400;i++){
  dustPos.push(
    (Math.random()-0.5)*25,
    (Math.random()-0.5)*25,
    (Math.random()-0.5)*25
  );
}
dustGeo.setAttribute('position',new THREE.Float32BufferAttribute(dustPos,3));
const dust=new THREE.Points(
  dustGeo,
  new THREE.PointsMaterial({
    color:0xffaa66,
    size:0.05,
    transparent:true,
    opacity:0.7
  })
);
scene.add(dust);

/* SENSOR */
let tiltX=0, tiltY=0;
addEventListener('deviceorientation',e=>{
  tiltX=e.gamma/40;
  tiltY=e.beta/40;
});

/* TEXT MOVE */
const title=document.getElementById("title");

/* ANIMATE */
function animate(){
  requestAnimationFrame(animate);

  planet.rotation.y+=0.002;
  ring.rotation.z+=0.001;
  dust.rotation.y+=0.0008;
  stars.rotation.y+=0.00025;

  planet.rotation.x=tiltY*0.25;
  ring.rotation.x=Math.PI/2.3+tiltY*0.18;

  title.style.transform=
    `translate(-50%,-50%) translate(${tiltX*18}px,${tiltY*12}px)`;

  renderer.render(scene,camera);
}
animate();

/* RESIZE */
addEventListener('resize',()=>{
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth,innerHeight);
});

/* TYPING EFFECT */
const text="ü™ê Hi Mohammad Azky Kameel";
const textEl=document.getElementById("text");
let i=0;
(function type(){
  if(i<text.length){
    textEl.innerHTML+=text[i++];
    setTimeout(type,90);
  }
})();
</script>

</body>
</html>

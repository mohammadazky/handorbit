<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Saturnus - Mohammad Azky Kameel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            color: white;
            user-select: none;
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        #ui-layer {
            position: absolute;
            bottom: 15%; 
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            text-align: center;
            pointer-events: none;
            width: 90%;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: 2px;
            background: linear-gradient(90deg, #BF953F, #FCF6BA, #B38728, #FBF5B7, #AA771C);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
        }

        .subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 15px;
            font-style: italic;
            letter-spacing: 5px;
            text-transform: uppercase;
            opacity: 0;
            transition: opacity 3s ease; /* Transisi subtitle lebih lambat */
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 0.8em;
            background-color: #FCF6BA;
            margin-left: 5px;
            animation: blink 1s infinite;
        }

        #loader {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 1s ease;
        }

        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        @keyframes shine { to { background-position: 200% center; } }

        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .subtitle { font-size: 0.7rem; letter-spacing: 2px;}
        }
    </style>
</head>
<body>

    <div id="loader"><div style="color: #d4af37;">LOADING GALAXY...</div></div>
    <div id="canvas-container"></div>

    <div id="ui-layer">
        <h1 id="main-text"></h1><span class="cursor" id="cursor"></span>
        <div class="subtitle" id="sub-text">The Galaxy's Most Wanted Visionary</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

    <script>
        const config = {
            text: "Hi, Mohammad Azky Kameel",
            typingSpeed: 120, // Diperlambat sesuai request
            starsCount: 2000,
            dustCount: 1500
        };

        let scene, camera, renderer, planet, ring, starField, planetGroup, dustParticles;
        let mouseX = 0, mouseY = 0;
        let isIntroFinished = false;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(0, 5, 30); 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            planetGroup = new THREE.Group();
            scene.add(planetGroup);

            createObjects();
            createLights();
            setupEvents();
            
            // Sembunyikan planet dulu untuk animasi entrance
            planetGroup.scale.set(0, 0, 0);
            
            animate();
        }

        function createTextureNoise(width, height, color1, color2) {
            const canvas = document.createElement('canvas');
            canvas.width = width; canvas.height = height;
            const ctx = canvas.getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, color1);
            gradient.addColorStop(0.5, color2);
            gradient.addColorStop(1, color1);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            for (let i = 0; i < 500; i++) {
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.1})`;
                ctx.fillRect(0, Math.random() * height, width, 2);
            }
            return new THREE.CanvasTexture(canvas);
        }

        function createObjects() {
            // Planet
            planet = new THREE.Mesh(
                new THREE.SphereGeometry(4.5, 64, 64),
                new THREE.MeshStandardMaterial({ 
                    map: createTextureNoise(1024, 1024, '#cfa574', '#8f6844'),
                    roughness: 0.9 
                })
            );
            planetGroup.add(planet);

            // Ring
            const ringGeo = new THREE.RingGeometry(6, 11, 128);
            const ringUv = ringGeo.attributes.uv;
            for (let i = 0; i < ringGeo.attributes.position.count; i++) {
                const x = ringGeo.attributes.position.getX(i);
                const y = ringGeo.attributes.position.getY(i);
                const r = Math.sqrt(x * x + y * y);
                ringUv.setXY(i, (r - 6) / 5, 0); 
            }
            ring = new THREE.Mesh(ringGeo, new THREE.MeshStandardMaterial({
                map: createTextureNoise(64, 512, '#e0d0c0', '#7a6a5a'),
                side: THREE.DoubleSide, transparent: true, opacity: 0.6
            }));
            ring.rotation.x = Math.PI / 2.2;
            planetGroup.add(ring);

            // Ambient Stars
            const starsPos = [];
            for (let i = 0; i < config.starsCount; i++) {
                starsPos.push((Math.random()-0.5)*800, (Math.random()-0.5)*800, (Math.random()-0.5)*800);
            }
            const starsGeo = new THREE.BufferGeometry();
            starsGeo.setAttribute('position', new THREE.Float32BufferAttribute(starsPos, 3));
            starField = new THREE.Points(starsGeo, new THREE.PointsMaterial({ color: 0xffffff, size: 0.15 }));
            scene.add(starField);

            // Cosmic Dust (Partikel di samping planet)
            const dustPos = [];
            for (let i = 0; i < config.dustCount; i++) {
                const r = 12 + Math.random() * 8;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.random() * Math.PI;
                dustPos.push(r * Math.sin(phi) * Math.cos(theta), r * Math.sin(phi) * Math.sin(theta), r * Math.cos(phi));
            }
            const dustGeo = new THREE.BufferGeometry();
            dustGeo.setAttribute('position', new THREE.Float32BufferAttribute(dustPos, 3));
            dustParticles = new THREE.Points(dustGeo, new THREE.PointsMaterial({ 
                color: 0xFCF6BA, size: 0.05, transparent: true, opacity: 0.4 
            }));
            planetGroup.add(dustParticles);
        }

        function createLights() {
            const sun = new THREE.DirectionalLight(0xffffff, 2);
            sun.position.set(15, 10, 10);
            scene.add(sun);
            scene.add(new THREE.AmbientLight(0x404040, 1.5));
        }

        function animate() {
            requestAnimationFrame(animate);
            
            planet.rotation.y += 0.002;
            ring.rotation.z -= 0.0005;
            starField.rotation.y -= 0.00005;
            dustParticles.rotation.y += 0.001;

            if(isIntroFinished) {
                camera.position.x += (mouseX * 15 - camera.position.x) * 0.03;
                camera.position.y += (-mouseY * 15 + 5 - camera.position.y) * 0.03;
            }
            
            camera.lookAt(0, 0, 0);
            renderer.render(scene, camera);
        }

        function startExperience() {
            // GSAP Animation untuk Entrance Planet
            gsap.to(planetGroup.scale, {
                x: 1, y: 1, z: 1,
                duration: 2.5,
                ease: "power4.out"
            });

            gsap.to(planetGroup.rotation, {
                y: Math.PI * 2,
                duration: 2.5,
                ease: "power4.out",
                onComplete: () => {
                    isIntroFinished = true;
                    startTyping();
                }
            });
        }

        function startTyping() {
            const h1 = document.getElementById('main-text');
            const sub = document.getElementById('sub-text');
            let i = 0;
            
            function type() {
                if (i < config.text.length) {
                    h1.innerHTML += config.text.charAt(i);
                    i++;
                    setTimeout(type, config.typingSpeed);
                } else {
                    document.getElementById('cursor').style.display = 'none';
                    sub.style.opacity = 1;
                }
            }
            type();
        }

        function setupEvents() {
            window.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX - window.innerWidth / 2) * 0.0005;
                mouseY = (e.clientY - window.innerHeight / 2) * 0.0005;
            });
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                    init();
                    startExperience();
                }, 1000);
            }, 1500);
        });
    </script>
</body>
</html>

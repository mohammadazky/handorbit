<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Saturnus - Mohammad Azky Kameel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #050505;
            overflow: hidden;
            font-family: 'Playfair Display', serif;
            color: white;
            user-select: none;
        }

        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* POSISI: Di bawah planet (Area bawah layar) */
        #ui-layer {
            position: absolute;
            bottom: 15%; 
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            text-align: center;
            pointer-events: none;
            width: 90%;
        }

        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin: 0;
            letter-spacing: 2px;
            background: linear-gradient(
                90deg, 
                #BF953F 0%, 
                #FCF6BA 25%, 
                #B38728 50%, 
                #FBF5B7 75%, 
                #AA771C 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
            text-shadow: 0px 0px 20px rgba(191, 149, 63, 0.4);
        }

        .subtitle {
            font-size: 1rem;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 15px;
            font-style: italic;
            letter-spacing: 5px;
            text-transform: uppercase;
            opacity: 0;
            transition: opacity 2s ease;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 0.8em;
            background-color: #FCF6BA;
            margin-left: 5px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255,255,255,0.1);
            border-left-color: #d4af37;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
        @keyframes shine { to { background-position: 200% center; } }

        @media (max-width: 768px) {
            h1 { font-size: 1.6rem; }
            .subtitle { font-size: 0.7rem; letter-spacing: 2px;}
        }
    </style>
</head>
<body>

    <div id="loader"><div class="spinner"></div></div>
    <div id="canvas-container"></div>

    <div id="ui-layer">
        <h1 id="main-text"></h1><span class="cursor" id="cursor"></span>
        <div class="subtitle" id="sub-text">The Galaxy's Most Wanted Visionary</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <script>
        // Anti-Stuck Loader Netlify
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                    startExperience();
                }, 800);
            }, 1000);
        });

        const config = {
            text: "Hi, Mohammad Azky Kameel",
            typingSpeed: 70, 
            starsCount: 3000,
            bgHex: 0x050505
        };

        let scene, camera, renderer, planet, ring, starField;
        let mouseX = 0, mouseY = 0;

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
            // Naikin posisi kamera supaya planet agak ke atas, teks dapet ruang di bawah
            camera.position.set(0, 4, 25); 

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            createObjects();
            createLights();
            setupEvents();
            animate();
        }

        function createTextureNoise(width, height, color1, color2) {
            const canvas = document.createElement('canvas');
            canvas.width = width;
            canvas.height = height;
            const ctx = canvas.getContext('2d');
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, color1);
            gradient.addColorStop(0.5, color2);
            gradient.addColorStop(1, color1);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            for (let i = 0; i < 400; i++) {
                ctx.fillStyle = `rgba(255, 255, 255, ${Math.random() * 0.05})`;
                ctx.fillRect(0, Math.random() * height, width, 5);
            }
            return new THREE.CanvasTexture(canvas);
        }

        function createObjects() {
            // Planet
            planet = new THREE.Mesh(
                new THREE.SphereGeometry(4.5, 64, 64),
                new THREE.MeshStandardMaterial({ map: createTextureNoise(1024, 1024, '#cfa574', '#8f6844'), roughness: 0.8 })
            );
            scene.add(planet);

            // Ring
            const ringGeo = new THREE.RingGeometry(6, 10, 128);
            const ringUv = ringGeo.attributes.uv;
            for (let i = 0; i < ringGeo.attributes.position.count; i++) {
                const x = ringGeo.attributes.position.getX(i);
                const y = ringGeo.attributes.position.getY(i);
                const r = Math.sqrt(x * x + y * y);
                ringUv.setXY(i, (r - 6) / 4, 0); 
            }
            ring = new THREE.Mesh(ringGeo, new THREE.MeshStandardMaterial({
                map: createTextureNoise(64, 512, '#e0d0c0', '#7a6a5a'),
                side: THREE.DoubleSide, transparent: true, opacity: 0.7
            }));
            ring.rotation.x = Math.PI / 2.1;
            scene.add(ring);

            // Stars
            const starsPos = [];
            for (let i = 0; i < config.starsCount; i++) {
                starsPos.push((Math.random()-0.5)*800, (Math.random()-0.5)*800, (Math.random()-0.5)*800);
            }
            const starsGeo = new THREE.BufferGeometry();
            starsGeo.setAttribute('position', new THREE.Float32BufferAttribute(starsPos, 3));
            starField = new THREE.Points(starsGeo, new THREE.PointsMaterial({ color: 0xffffff, size: 0.2 }));
            scene.add(starField);
        }

        function createLights() {
            const sun = new THREE.DirectionalLight(0xffffff, 1.5);
            sun.position.set(10, 10, 10);
            scene.add(sun);
            scene.add(new THREE.AmbientLight(0x404040, 1.2));
        }

        function setupEvents() {
            window.addEventListener('mousemove', (e) => {
                mouseX = (e.clientX - window.innerWidth / 2) * 0.0004;
                mouseY = (e.clientY - window.innerHeight / 2) * 0.0004;
            });
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function animate() {
            requestAnimationFrame(animate);
            planet.rotation.y += 0.001;
            ring.rotation.z -= 0.0002;
            starField.rotation.y -= 0.0001;

            camera.position.x += (mouseX * 20 - camera.position.x) * 0.05;
            camera.position.y += (-mouseY * 20 + 4 - camera.position.y) * 0.05;
            camera.lookAt(0, 1, 0);

            renderer.render(scene, camera);
        }

        function startExperience() {
            const h1 = document.getElementById('main-text');
            const sub = document.getElementById('sub-text');
            let i = 0;
            function type() {
                if (i < config.text.length) {
                    h1.innerHTML += config.text.charAt(i);
                    i++;
                    setTimeout(type, config.typingSpeed);
                } else {
                    document.getElementById('cursor').style.display = 'none';
                    sub.style.opacity = 1;
                }
            }
            type();
        }

        init();
    </script>
</body>
</html>
